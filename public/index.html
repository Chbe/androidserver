<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Android chat server</title>
  <link rel="stylesheet" type="text/css" href="/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />

</head>
<!--<nav class="mynavbar">
  <a href="http://christopherbengtsson.herokuapp.com/">
    <img border="0" alt="W3Schools" src="back.png" width="40" height="40"></a>
</nav>-->


<body>
  <ul class="pages">
    <li class="chat page">
      <div class="chatArea">
        <ul class="messages"></ul>
        <ul class="logMessages">
        </ul>
      </div>
      <input class="inputMessage" placeholder="Type here..." />
    </li>

    <li class="login page">
      <!--<div id="centerImg">
        <a href="app-debug.apk"><img src="androidd.png" width="190" height="50"></a>
      </div>-->

      <p id="error"></p>
      <p id="lat"></p>
      <p id="lon"></p>
      <h2 class="titleWelcome">
        Welcome! <br> Set a radius on how far you want to receive messages from and then pick a nickname.
      </h2>
      <br>
      <div class="form">
        <form>
          <h5 class="titleRadius">1. Set a radius</h5>
          <input for="amount" oninput="amount.value=rangeInput.value" id="slider" type="range" min="50" max="1000" name="rangeInput" />
          <br>
          <input oninput="rangeInput.value=amount.value" id="radius" type="text" value="500" name="amount" for="rangeInput" oninput="rangeInput.value=amount.value" readonly />
        </form>
        <br>
        <h3 class="title">2. Choose a nickname</h3>
        <input class="usernameInput" type="text" maxlength="14" />
      </div>
    </li>
  </ul>

  <script>
    var x = document.getElementById("error");
    var lati = document.getElementsByClassName("latitude");
    var longi = document.getElementsByClassName("longitude");
    var lat = document.getElementById("lat");
    var lon = document.getElementById("lon");

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      }
      else {
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }

    function showPosition(position) {
      lat.innerHTML = position.coords.latitude;
      lon.innerHTML = position.coords.longitude


    }

    function showError(error) {
      switch (error.code) {
        case error.PERMISSION_DENIED:
          x.innerHTML = "User denied the request for Geolocation."
          break;
        case error.POSITION_UNAVAILABLE:
          x.innerHTML = "Location information is unavailable."
          break;
        case error.TIMEOUT:
          x.innerHTML = "The request to get user location timed out."
          break;
        case error.UNKNOWN_ERROR:
          x.innerHTML = "An unknown error occurred."
          break;
      }
    }


    window.onload = getLocation;
  </script>
  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/main.js"></script>
</body>

</html>
